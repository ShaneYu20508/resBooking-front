import{p as M,m as N,a as S,b as T,c as D,d as j,e as z,f as P,g as Y,h as O,u as J,t as V,i as H,j as G,k as X,s as W,l as Z,n as B,o as $,q,r as I,v as ee,_ as te,w as oe,x as ie,y as ae,z as se,A as _,B as w,C as s,D as l,E as n,F as i,G as R,H as r,I as f,J as k,V as b,K as U,L,M as v,N as y,O as Ie}from"./index-9d77904b.js";import{V as Ee,a as ne,b as ge,c as le}from"./VNavigationDrawer-7f2c3576.js";import{V as x,a as F,b as re}from"./VList-f0aeadcd.js";import{V as Be}from"./VContainer-549e10d5.js";import{V as ue,a as Ce}from"./VRow-a5167093.js";import"./ssrBoot-b7bfb72a.js";import"./VDivider-f304a398.js";const Re=M({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...N(),...S(),...T(),...D(),...j(),...z({tag:"footer"}),...P()},"VFooter"),Ue=Y()({name:"VFooter",props:Re(),setup(e,c){let{slots:d}=c;const{themeClasses:K}=O(e),{backgroundColorClasses:t,backgroundColorStyles:m}=J(V(e,"color")),{borderClasses:Q}=H(e),{elevationClasses:u}=G(e),{roundedClasses:A}=X(e),C=W(32),{resizeRef:h}=Z(E=>{E.length&&(C.value=E[0].target.clientHeight)}),g=B(()=>e.height==="auto"?C.value:parseInt(e.height,10)),{layoutItemStyles:a}=$({id:e.name,order:B(()=>parseInt(e.order,10)),position:B(()=>"bottom"),layoutSize:g,elementSize:B(()=>e.height==="auto"?void 0:g.value),active:B(()=>e.app),absolute:V(e,"absolute")});return q(()=>I(e.tag,{ref:h,class:["v-footer",K.value,t.value,Q.value,u.value,A.value,e.class],style:[m.value,e.app?a.value:{height:ee(e.height)},e.style]},d)),{}}}),Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAIWBAMAAABdCvRfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEUAk0VFsXaZ1LSpmomzhHgAkkZVtoT////ecXnOKzcorR3LAAAABXRSTlNVaI6ntArr8tcAAAABYktHRAcWYYjrAAAAB3RJTUUH6AYXExMIBRl9QAAAA9BJREFUeNrt0QERABAABDAZRKCKCjKIQBVt1fhzW4WVmWDtAOcmKEKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKE/B4SobYAfSR4QAVNNEa9isoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMDYtMjNUMTk6MTk6MDgrMDA6MDAk+4snAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTA2LTIzVDE5OjE5OjA4KzAwOjAwVaYzmwAAAABJRU5ErkJggg==";const Qe={__name:"FrontLayout",setup(e){const{apiAuth:c}=Ie(),d=oe(),K=ie(),t=ae(),{mobile:m}=se(),Q=B(()=>m.value),u=_(!1),A=B(()=>[{to:"/home",text:"關於我們",show:!t.isLogin||t.isLogin},{to:"/news",text:"最新消息",show:!t.isLogin||t.isLogin},{to:"/content",text:"聯繫我們",show:!t.isLogin||t.isLogin},{to:"/booking",text:"線上訂位",show:!t.isLogin||t.isLogin},{to:"/booksearch",text:"訂位查詢",show:!t.isLogin||t.isLogin},{to:"/admin/reservations",text:"管理",show:t.isLogin&&t.isAdmin}]),C=async()=>{var g,a;try{await c.delete("/users/logout"),t.logout(),K({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(E){const p=((a=(g=E==null?void 0:E.response)==null?void 0:g.data)==null?void 0:a.message)||"發生錯誤，請稍後再試";K({text:p,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},h=_([{name:"mdi-facebook",link:"https://www.facebook.com/"},{name:"mdi-instagram",link:"https://www.instagram.com"}]);return(g,a)=>{const E=w("router-link"),p=w("RouterView");return s(),l(r,null,[Q.value?(s(),n(Ee,{key:0,modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=o=>u.value=o),temporary:"",location:"left"},{default:i(()=>[I(re,{nav:""},{default:i(()=>[(s(!0),l(r,null,f(A.value,o=>(s(),l(r,{key:o.to},[o.show?(s(),n(x,{key:0,to:o.to},{prepend:i(()=>[I(b,{icon:o.icon},null,8,["icon"])]),default:i(()=>[I(F,null,{default:i(()=>[U(y(o.text),1)]),_:2},1024)]),_:2},1032,["to"])):R("",!0)],64))),128)),k(t).isLogin?(s(),n(x,{key:0,onClick:C},{prepend:i(()=>[I(b,{icon:"mdi-logout"})]),default:i(()=>[I(F,null,{default:i(()=>a[2]||(a[2]=[U("登出")])),_:1,__:[2]})]),_:1})):R("",!0)]),_:1})]),_:1},8,["modelValue"])):R("",!0),I(ne,{class:"justify-center",style:{height:"8vh"},color:"#008C45"},{default:i(()=>[I(Be,{class:"d-flex justify-space-between align-center w-75"},{default:i(()=>[I(E,{to:"/home"},{default:i(()=>a[3]||(a[3]=[L("img",{src:Ke,alt:"義在家",style:{height:"11vh","object-fit":"contain"}},null,-1)])),_:1,__:[3]}),Q.value?(s(),n(le,{key:0,onClick:a[1]||(a[1]=o=>u.value=!0)})):(s(),l(r,{key:1},[(s(!0),l(r,null,f(A.value,o=>(s(),l(r,{key:o.to},[o.show?(s(),n(v,{key:0,to:o.to,"prepend-icon":o.icon},{default:i(()=>[U(y(o.text),1)]),_:2},1032,["to","prepend-icon"])):R("",!0)],64))),128)),k(t).isLogin?(s(),n(v,{key:0,"prepend-icon":"mdi-logout",onClick:C},{default:i(()=>a[4]||(a[4]=[U("登出")])),_:1,__:[4]})):R("",!0)],64))]),_:1})]),_:1}),I(ge,{style:{"min-height":"calc(90vh)","padding-top":"8vh"}},{default:i(()=>[(s(),n(p,{key:g.$route.path}))]),_:1}),I(Ue,{class:"bg-third text-center",style:{"min-height":"10vh",position:"relative"}},{default:i(()=>[I(ue,{class:"justify-center"},{default:i(()=>[I(Ce,{cols:"12"},{default:i(()=>[L("strong",null,"©"+y(new Date().getFullYear())+"   -   義在家 pasta straight home",1),(s(!0),l(r,null,f(h.value,o=>(s(),n(v,{class:"ms-4",key:o,icon:o.name,href:o.link,target:"_blank",variant:"plain"},null,8,["icon","href"]))),128))]),_:1})]),_:1}),I(E,{class:"text-white text-decoration-none",to:k(t).isLogin?"/admin/reservations":"/signup",style:{position:"absolute",bottom:"8px",right:"16px","font-size":"0.9rem"}},{default:i(()=>a[5]||(a[5]=[U("訂位管理")])),_:1,__:[5]},8,["to"])]),_:1})],64)}}},ke=te(Qe,[["__scopeId","data-v-d0bd411c"]]);export{ke as default};
